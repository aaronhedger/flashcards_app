<!--classeur_cartes.html -->
{% extends "cards/classeur_list.html" %}
{% load classeur_tags %}
{% load humanize %}
{% block content %}
    <br>
    <nav2>
        
        {% classeur_boxes_as_links classeur %}
    </nav2>
    {% if classeur.pk %}

        <div class="container3">
            <div class="box-flashcards">
                
                <h3>Cartes dans {{ classeur.name }}:</h3>
                <a href="{% url 'card-create' classeur.pk %}" class="button">Nouvelle carte</a>
                <ul>
                    {% for card in cards %}
                      <div class="cards-list">
                        <div class="card-content">
                            <h4>{{ card.question }} - {{ card.answer }}</h4>
                        </div>
                        <div class="card-actions">
                            <a href="{% url 'card-update' card.id %}" class="button">✏️ modifier</a>
                        </div>
                      </div> 
                    {% endfor %}
                </ul>
            </div>
        </div>
    {% else %}
            <p>Classeur non trouvé ou invalide.</p>
    {% endif %}

    <div style="position: fixed; bottom: 20px; right: 20px;">
            <a href="{% url 'classeur_list' %}" class="button">Back</a>
    </div>
            
    <!-- Bouton pour ouvrir la modale -->
    <button id="rulesBtn" class="fixed-button">Comment ça marche ?</button>

    <!-- Modale -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Règles du jeu</h2>
            <p>Voici les règles du jeu que vous devez suivre...</p>
        </div>
    </div>

    {% block card_form %}{% endblock %}

    <!-- JavaScript pour la modale -->
    <script>
        // Récupérer les éléments
        var modal = document.getElementById("rulesModal");
        var btn = document.getElementById("rulesBtn");
        var span = document.getElementsByClassName("close")[0];

        // Ouvrir la modale lorsque le bouton est cliqué
        btn.onclick = function() {
            modal.style.display = "block";
        }

        // Fermer la modale lorsque l'utilisateur clique sur le <span> (x)
        span.onclick = function() {
            modal.style.display = "none";
        }

        // Fermer la modale si l'utilisateur clique en dehors de la modale
        window.onclick = function(event) {
            if (event.target === modal) {
                modal.style.display = "none";
            }
        }
    </script>
    
{% endblock %}    